<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kakao Mobility Directions API Example</title>
    <script type="text/javascript" src="https://dapi.kakao.com/v2/maps/sdk.js?appkey=67e976d6b999592753b7dacf13bb3bed&libraries=services"></script>
    <style>
        #map {
            width: 100%;
            height: 400px;
        }
        #form {
            margin-top: 10px;
        }
    </style>
</head>
<body>
<div id="map"></div>
<div id="form">
    <label for="from">출발지:</label>
    <input type="text" id="from" placeholder="출발지 주소">
    <label for="to">도착지:</label>
    <input type="text" id="to" placeholder="도착지 주소">
    <button onclick="findRoute()">길찾기</button>
</div>

<script>
        let map;

        // 카카오맵 API 초기화
        kakao.maps.load(() => {
            const mapContainer = document.getElementById('map');
            const mapOptions = {
                center: new kakao.maps.LatLng(37.566826, 126.9786567), // 기본 좌표
                level: 8,
            };
            map = new kakao.maps.Map(mapContainer, mapOptions);
        });

        // 길찾기 함수
        function findRoute() {
            const from = document.getElementById('from').value;
            const to = document.getElementById('to').value;

            // 출발지와 도착지 주소를 이용하여 API 호출하는 로직
            // 여기서 API 호출 코드를 구현해야 합니다.

            // API 호출이 성공하면 아래와 같이 지도에 마커와 경로를 표시하는 로직을 작성합니다.
            const fromPosition = new kakao.maps.LatLng(37.566826, 126.9786567); // 출발지 좌표
            const toPosition = new kakao.maps.LatLng(37.566826, 127.9786567); // 도착지 좌표

            // 출발지와 도착지를 지도에 표시하는 로직
            const fromMarker = new kakao.maps.Marker({ position: fromPosition });
            const toMarker = new kakao.maps.Marker({ position: toPosition });
            fromMarker.setMap(map);
            toMarker.setMap(map);

            // 출발지와 도착지를 연결하는 경로를 지도에 표시하는 로직
            const path = [fromPosition, toPosition];
            const polyline = new kakao.maps.Polyline({
                path: path,
                strokeWeight: 3,
                strokeColor: '#FF0000',
                strokeOpacity: 0.7,
                strokeStyle: 'solid'
            });
            polyline.setMap(map);

            // 출발지와 도착지가 보이도록 지도의 중심과 레벨을 조정합니다.
            const bounds = new kakao.maps.LatLngBounds();
            bounds.extend(fromPosition);
            bounds.extend(toPosition);
            map.setBounds(bounds);
        }
    </script>
</body>
</html>
